<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, ch-viewport-width, ch-viewport-height">
    <title>–ú—É—Ç–∞—Ü–∏—è –ø–ª–∏—Ç–æ–∫</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Yandex Games SDK -->
    <!-- <script src="/sdk.js"></script> -->
</head>
<body>
    <div class="container">
         <div class="start-screen" id="start-screen">
            <div class="wrap">
                <h1>–ú—É—Ç–∞—Ü–∏—è –ø–ª–∏—Ç–æ–∫</h1>
                <div class="rules">
                    <h3>–ü—Ä–∞–≤–∏–ª–∞ –∏–≥—Ä—ã:</h3>
                    <ul>
                        <li>–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å—Ç—Ä–µ–ª–∫–∏ –Ω–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä–µ (—Å–≤–∞–π–ø –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ) –¥–ª—è –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è –ø–ª–∏—Ç–æ–∫</li>
                        <li>–ü–ª–∏—Ç–∫–∏ —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ —á–∏—Å–ª–∞–º–∏ —Å–ª–∏–≤–∞—é—Ç—Å—è –ø—Ä–∏ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–∏</li>
                        <li>–°–≤–µ—Ä—Ö—É –ø–æ—è–≤–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ –ø–ª–∏—Ç–∫–∏ (–∫–∞–∫ –≤ —Ç–µ—Ç—Ä–∏—Å–µ)</li>
                        <li>–¶–µ–ª—å - –ø–æ–ª—É—á–∏—Ç—å –ø–ª–∏—Ç–∫—É 2048</li>
                        <li>–ü–∞–¥–∞—é—â–∏–µ –ø–ª–∏—Ç–∫–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ª–∏–≤–∞—é—Ç—Å—è —Å –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏ –∏–º –ø–ª–∏—Ç–∫–∞–º–∏</li>
                    </ul>
                </div>
                <button class="start-button" id="start-button">–ù–∞—á–∞—Ç—å –∏–≥—Ä—É</button>
            </div>
            
        </div> 
        
        <div class="game-container" id="game-container" style="display: none;">
            <div class="header">
                <div class="score-container">
                    <div class="score-box">
                        <span class="score-title">–û—á–∫–∏</span>
                        <span id="score">0</span>
                    </div>
                    <div class="score-box pause-button" id="pause-button">
                        <span class="score-title">–ü–∞—É–∑–∞</span>
                        <span>II</span>
                    </div>
                    <div class="score-box sound-button" id="sound-button">
                        <span class="score-title">–ó–≤—É–∫</span>
                        <span id="sound-icon">üîä</span>
                    </div>
                    <div class="score-box">
                        <span class="score-title">–†–µ–∫–æ—Ä–¥</span>
                        <span id="best-score">0</span>
                    </div>
                    <div class="score-box" id="leaderboard-box">
                        <span class="score-title">–ú–µ—Å—Ç–æ</span>
                        <span id="player-rank">-</span>
                    </div>
                </div>
            </div>
            
            <div class="game-area">
                <div class="preview-container">
                    <div class="preview-title">–°–ª–µ–¥—É—é—â–∏–µ –ø–ª–∏—Ç–∫–∏:</div>
                    <div class="preview-content">
                        <div class="preview-row" id="preview-row">
                            <!-- Preview cells will be generated by JavaScript -->
                             <div class="preview-cell" id="preview-cell-1-1"></div>
                             <div class="preview-cell" id="preview-cell-1-1"></div>
                             <div class="preview-cell" id="preview-cell-1-1"></div>
                             <div class="preview-cell" id="preview-cell-1-1"></div>
                        </div>
                        <div class="timer">
                            <div id="timer-text">5.0</div>
                            <div class="timer-bar">
                                
                                <div class="timer-progress" id="timer-progress"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="grid-container" id="grid-container" >
                    <div class="falling-area" id="falling-area"></div>
                    <div class="grid" id="grid">
                        <div class="grid-row">
                            <div class="grid-cell" id="cell-1-1"></div>
                            <div class="grid-cell" id="cell-1-2"></div>
                            <div class="grid-cell" id="cell-1-3"></div>
                            <div class="grid-cell" id="cell-1-4"></div>
                        </div>
                        <div class="grid-row">
                            <div class="grid-cell" id="cell-2-1"></div>
                            <div class="grid-cell" id="cell-2-2"></div>
                            <div class="grid-cell" id="cell-2-3"></div>
                            <div class="grid-cell" id="cell-2-4"></div>
                        </div>
                        <div class="grid-row">
                            <div class="grid-cell" id="cell-3-1"></div>
                            <div class="grid-cell" id="cell-3-2"></div>
                            <div class="grid-cell" id="cell-3-3"></div>
                            <div class="grid-cell" id="cell-3-4"></div>
                        </div>
                        <div class="grid-row">
                            <div class="grid-cell" id="cell-4-1"></div>
                            <div class="grid-cell" id="cell-4-2"></div>
                            <div class="grid-cell" id="cell-4-3"></div>
                            <div class="grid-cell" id="cell-4-4"></div>
                        </div>
                        <!-- 4x4 grid will be generated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <div class="game-over" id="game-over" style="display: none;">
                <div class="game-over-text">–ò–≥—Ä–∞ –æ–∫–æ–Ω—á–µ–Ω–∞!</div>
                <div class="game-over-score">–í–∞—à —Å—á–µ—Ç: <span id="final-score">0</span></div>
                <button class="restart-button" id="restart-button">–ò–≥—Ä–∞—Ç—å —Å–Ω–æ–≤–∞</button>
                <button class="second-chance-button restart-button" style="display: flex;" id="second-chance-button">–í—Ç–æ—Ä–æ–π —à–∞–Ω—Å<img src="ad.png" alt="adv" width="30px"></button>
            </div>
        </div>
        
        <audio id="lose-sound" src="lose.mp3" preload="auto"></audio>
        <audio id="merge-sound" src="merge.mp3" preload="auto"></audio>
        <audio id="newrecord-sound" src="newrecord.mp3" preload="auto"></audio>
        <audio id="pauseresume-sound" src="pauseresume.mp3" preload="auto"></audio>
        <div class="leaderboard-modal" id="leaderboard-modal" style="display: none;">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>–¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</h2>
                    <span class="close-modal" id="close-modal">&times;</span>
                </div>
                <div class="leaderboard-list-container">
                    <div class="leaderboard-list" id="leaderboard-list">
                        <!-- Top players and player position will be loaded here -->
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="script.js"></script>
</body>
</html>